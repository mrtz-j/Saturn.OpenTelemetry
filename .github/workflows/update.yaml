###
# This file was automatically generated with nix-actions.
env:
  FORCE_COLOR: '1'
jobs:
  update:
    permissions:
      contents: write
      issues: write
      pull-requests: write
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
      with:
        fetch-depth: 0
    - name: Install Nix
      uses: DeterminateSystems/nix-installer-action@main
      with:
        diagnostic-endpoint: ''
        github-token: ${{ secrets.GITHUB_TOKEN }}
        source-url: https://install.lix.systems/lix/lix-installer-x86_64-linux
    - name: Set up Cache
      uses: DeterminateSystems/magic-nix-cache-action@main
    - name: Update dependencies
      run: "nix-shell -A npins-update --run 'set -o pipefail\nset -o nounset\nset
        -o errexit\nnpins update'"
    - name: Create PR
      uses: peter-evans/create-pull-request@v7
      with:
        base: main
        body: "Automatic npins update performed by GitHub Actions\n"
        branch: npins-auto-update
        commit-message: 'chore: npins update'
        delete-branch: true
        title: 'chore: weekly npins update'
        token: ${{ github.token }}
name: Update dependencies
on:
  schedule:
  - cron: 6 6 * * 3
  workflow_dispatch: {}
